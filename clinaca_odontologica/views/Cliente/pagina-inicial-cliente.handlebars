
<link rel="stylesheet" href="../../css/clientes/tela_inicial.css">
<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container">
    <span class="navbar-brand fw-bold">Área do Cliente</span>

    <div class="d-flex gap-3">
      <a class="nav-link text-white" id="butao_servicos">Serviços</a>
      <a class="nav-link text-white" id="butao_agendamento">Agendamentos</a>
      <a class="nav-link text-white" id="butao_fichaClinica">Ficha Clínica</a>
      <a class="nav-link text-white" id="butao_recomendacoes">Recomendações</a>
      <a class="nav-link text-white" href="/PerfilCliente">Perfil</a>
      <a class="nav-link text-danger fw-bold" href="/logout">Sair</a>
    </div>
  </div>
</nav>

<div class="container my-4">

<!-- ================= SERVIÇOS ================= -->
<div id="servicos">
  <h2 class="mb-4">Serviços Disponíveis</h2>

  <div class="row g-4">
    {{#each servicos}}
    <div class="col-md-4">
      <div class="card h-100 shadow-sm">
        <img src="/upload/{{foto}}" class="card-img-top">

        <div class="card-body">
          <h5 class="card-title">{{nome}}</h5>
          <p class="card-text">{{descricao}}</p>
          <p><strong>Duração:</strong> {{duracao}}</p>
          <p class="fw-bold text-success">R$ {{valor}}</p>

          <form action="/TelaMarcarConsulta" method="post">
            <input type="hidden" name="servicoId" value="{{id}}">
            <button class="btn btn-primary w-100">
              Marcar Consulta
            </button>
          </form>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
</div>
<!-- ================= AGENDAMENTOS ================= -->
<div id="agendamentos" class="mt-5">
  <h2 class="mb-4">Agendamentos</h2>

  <div class="row g-4">
    {{#each agendamentos}}
    <div class="col-md-6 col-lg-4">
      <div class="card h-100 shadow-sm">
        <div class="card-header bg-primary text-white">
          {{data}} às {{hora}}
        </div>
        <div class="card-body">
          <h5 class="card-title">{{Cliente.nome}}</h5>
          <p>
            <span class="badge bg-success">{{Servico.nome}}</span>
          </p>
          {{#if motivo}}
          <p><strong>Motivo:</strong> {{motivo}}</p>
          {{/if}}
        </div>
        <div class="card-footer text-muted text-end">
          Agendamento
        </div>
      </div>
    </div>
    {{/each}}
  </div>
</div>


<div id="fichaClinica" class="container my-5">
  <h2 class="mb-4">Ficha Clínica do Paciente</h2>

  <form action="/SalvarFichaClinica" method="post" class="row g-3">

    <!-- Histórico Médico -->
    <div class="col-md-6">
      <label class="form-label">Alergias</label>
      <textarea class="form-control" name="alergias"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Medicamentos de Uso Contínuo</label>
      <textarea class="form-control" name="medicamentosUsoContinuo"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Doenças Pré-existentes</label>
      <textarea class="form-control" name="doencasPreExistentes"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Histórico Familiar</label>
      <textarea class="form-control" name="historicoFamiliar"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Cirurgias Anteriores</label>
      <textarea class="form-control" name="cirurgiasAnteriores"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Queixas do Paciente</label>
      <textarea class="form-control" name="queixas"></textarea>
    </div>

    <!-- Sinais Vitais -->
    <div class="col-md-4">
      <label class="form-label">Pressão Arterial</label>
      <input type="text" class="form-control" name="pressaoArterial">
    </div>

    <div class="col-md-4">
      <label class="form-label">Frequência Cardíaca</label>
      <input type="number" class="form-control" name="frequenciaCardiaca">
    </div>

    <div class="col-md-2">
      <label class="form-label">Peso (kg)</label>
      <input type="number" step="0.1" class="form-control" name="peso">
    </div>

    <div class="col-md-2">
      <label class="form-label">Altura (m)</label>
      <input type="number" step="0.01" class="form-control" name="altura">
    </div>

    <!-- Avaliação Oral -->
    <div class="col-md-6">
      <label class="form-label">Higiene Bucal</label>
      <input type="text" class="form-control" name="higieneBucal">
    </div>

    <div class="col-md-6">
      <label class="form-label">Cáries</label>
      <textarea class="form-control" name="cáries"></textarea>
    </div>

    <div class="col-md-4">
      <div class="form-check mt-3">
        <input class="form-check-input" type="checkbox" name="gengivaInflamada" value="true" id="gengivaInflamada">
        <label class="form-check-label" for="gengivaInflamada">Gengiva Inflamada</label>
      </div>
    </div>

    <div class="col-md-4">
      <label class="form-label">Sensibilidade nos Dentes</label>
      <textarea class="form-control" name="sensibilidadeDentes"></textarea>
    </div>

    <div class="col-md-4">
      <label class="form-label">Restaurações</label>
      <textarea class="form-control" name="restaurações"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Dentes Ausentes</label>
      <textarea class="form-control" name="dentesAusentes"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Próteses</label>
      <input type="text" class="form-control" name="próteses">
    </div>

    <div class="col-md-6">
      <div class="form-check mt-3">
        <input class="form-check-input" type="checkbox" name="bruxismo" value="true" id="bruxismo">
        <label class="form-check-label" for="bruxismo">Bruxismo</label>
      </div>
    </div>

    <div class="col-md-6">
      <label class="form-label">Tratamento Ortodôntico</label>
      <input type="text" class="form-control" name="tratamentoOrtodontico">
    </div>

    <div class="col-md-12">
      <label class="form-label">Hábitos</label>
      <textarea class="form-control" name="hábitos"></textarea>
    </div>

    <div class="col-md-12">
      <label class="form-label">Exame Oral Geral</label>
      <textarea class="form-control" name="exameOralGeral"></textarea>
    </div>

    <div class="col-md-12">
      <label class="form-label">Radiografias Recentes</label>
      <textarea class="form-control" name="radiografiasRecentes"></textarea>
    </div>

    <div class="col-md-12">
      <label class="form-label">Observações Extras</label>
      <textarea class="form-control" name="observacoesExtras"></textarea>
    </div>

    <!-- Botão de salvar -->
    <div class="col-12">
      <button type="submit" class="btn btn-primary w-100 mt-3">Salvar Ficha Clínica</button>
    </div>
  </form>
</div>

<!-- ================= RECOMENDAÇÕES ================= -->
<div id="recomendacoes" class="mt-5">
  <h2 class="mb-4">Recomendações do Dentista</h2>

  {{#each RecomendaçõesDentistaCliente}}
  <div class="card mb-3 shadow-sm">
    <div class="card-body">
      <p><strong>Exame Físico:</strong> {{exameFisico}}</p>
      <p><strong>Diagnóstico:</strong> {{diagnostico}}</p>
      <p><strong>Tratamento:</strong> {{tratamento}}</p>
      <p><strong>Observações:</strong> {{observacoes}}</p>
      <hr>
      <p class="text-muted mb-0">
        Dentista: {{Dentistum.nome}}
      </p>
    </div>
  </div>
  {{/each}}
</div>

</div>
<script src="../../js/clientes/tela_inicial.js"></script>