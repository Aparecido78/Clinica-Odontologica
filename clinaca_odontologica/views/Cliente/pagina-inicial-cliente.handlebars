<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Área do Cliente</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background-color: #f8f9fa;
    }

    h1, h2 {
      font-weight: 600;
      margin-bottom: 20px;
    }

    /* MENU */
    .header {
      background: #212529;
      padding: 15px 0;
    }

    .menu a {
      color: white;
      text-decoration: none;
      margin-right: 15px;
      cursor: pointer;
      font-weight: 500;
    }

    .menu a:hover {
      text-decoration: underline;
    }

    /* SEÇÕES */
    #servicos,
    #agendamentos,
    #fichaClinica,
    #recomendacoes {
      display: none;
      margin-top: 40px;
    }

    /* CARDS */
    .card-custom {
      background: white;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
      margin-bottom: 25px;
    }

    .card-custom strong {
      color: #0d6efd;
    }

    /* BOTÕES */
    .btn-clinica {
      background-color: #0d6efd;
      color: white;
      border-radius: 30px;
      padding: 8px 25px;
      font-weight: 500;
      border: none;
    }

    .btn-clinica:hover {
      background-color: #0b5ed7;
    }

    textarea {
      resize: vertical;
    }
  </style>
</head>

<body>

<header class="header">
  <div class="container d-flex justify-content-between align-items-center">
    <h4 class="text-white m-0">Área do Cliente</h4>

    <div class="menu">
      <a id="butao_servicos">Serviços</a>
      <a id="butao_agendamento">Agendamentos</a>
      <a id="butao_fichaClinica">Ficha Clínica</a>
      <a id="butao_recomendacoes">Recomendações</a>
      <a href="/PerfilCliente">Perfil</a>
      <a href="/logout" class="text-danger fw-bold">Sair</a>
    </div>
  </div>
</header>

<div class="container">

<!-- ================= SERVIÇOS ================= -->
<div id="servicos">
  <h1>Serviços Disponíveis</h1>

  <div class="row g-4">
    {{#each servicos}}
    <div class="col-md-4">
      <div class="card shadow-sm h-100">
        <img src="/upload/{{foto}}" class="card-img-top">

        <div class="card-body">
          <h5>{{nome}}</h5>
          <p>{{descricao}}</p>
          <p><strong>Duração:</strong> {{duracao}}</p>
          <p class="fw-bold text-success">R$ {{valor}}</p>

          <form action="/TelaMarcarConsulta" method="post">
            <input type="hidden" name="servicoId" value="{{id}}">
            <button class="btn btn-primary w-100">Marcar Consulta</button>
          </form>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
</div>

<!-- ================= AGENDAMENTOS ================= -->
<div id="agendamentos">
  <h1>Agendamentos</h1>

  {{#each agendamentos}}
  <div class="card-custom">
    <p><strong>Paciente:</strong> {{Cliente.nome}}</p>
    <p><strong>Serviço:</strong> {{Servico.nome}}</p>
    <p>{{data}} às {{hora}}</p>
  </div>
  {{/each}}
</div>

<!-- ================= FICHA CLÍNICA ================= -->
<div id="fichaClinica">
  <h1>Ficha Clínica do Paciente</h1>

  <form action="/SalvarFichaClinica" method="post" class="row g-3">

    <div class="col-md-6">
      <label class="form-label">Alergias</label>
      <textarea class="form-control" name="alergias"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Medicamentos</label>
      <textarea class="form-control" name="medicamentosUsoContinuo"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Doenças Pré-existentes</label>
      <textarea class="form-control" name="doencasPreExistentes"></textarea>
    </div>

    <div class="col-md-6">
      <label class="form-label">Histórico Familiar</label>
      <textarea class="form-control" name="historicoFamiliar"></textarea>
    </div>

    <div class="col-md-4">
      <label class="form-label">Pressão Arterial</label>
      <input class="form-control" name="pressaoArterial">
    </div>

    <div class="col-md-4">
      <label class="form-label">Peso</label>
      <input class="form-control" type="number" step="0.1" name="peso">
    </div>

    <div class="col-md-4">
      <label class="form-label">Altura</label>
      <input class="form-control" type="number" step="0.01" name="altura">
    </div>

    <div class="col-12">
      <button class="btn-clinica w-100 mt-3">Salvar Ficha Clínica</button>
    </div>
  </form>
</div>

<!-- ================= RECOMENDAÇÕES ================= -->
<div id="recomendacoes">
  <h1>Recomendações do Dentista</h1>

  {{#each RecomendaçõesDentistaCliente}}
  <div class="card-custom">
    <p><strong>Exame Físico:</strong> {{exameFisico}}</p>
    <p><strong>Diagnóstico:</strong> {{diagnostico}}</p>
    <p><strong>Tratamento:</strong> {{tratamento}}</p>
    <p><strong>Observações:</strong> {{observacoes}}</p>
    <hr>
    <p class="text-muted">Dentista: {{Dentistum.nome}}</p>
  </div>
  {{/each}}
</div>

</div>

<!-- Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- JS simples para alternar telas -->
<script>
  const sections = ["servicos","agendamentos","fichaClinica","recomendacoes"]

  function show(id){
    sections.forEach(s => {
      document.getElementById(s).style.display = s === id ? "block" : "none"
    })
  }

  document.getElementById("butao_servicos").onclick = () => show("servicos")
  document.getElementById("butao_agendamento").onclick = () => show("agendamentos")
  document.getElementById("butao_fichaClinica").onclick = () => show("fichaClinica")
  document.getElementById("butao_recomendacoes").onclick = () => show("recomendacoes")

  show("servicos")
</script>

</body>
</html>
