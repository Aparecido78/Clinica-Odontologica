<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

{{#if errorMessages}}
  {{#each errorMessages}}
    <div class="alert alert-danger alert-dismissible fade show position-fixed top-0 start-50 translate-middle-x w-75 mt-5" role="alert" id="error-{{@index}}">
      {{this}}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {{/each}}
{{/if}}

{{#if successMessages}}
  {{#each successMessages}}
    <div class="alert alert-primary alert-dismissible fade show position-fixed top-0 start-50 translate-middle-x w-75 mt-5" role="alert" id="success-{{@index}}">
      {{this}}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {{/each}}
{{/if}}

<script>
document.addEventListener("DOMContentLoaded", () => {
    const mensagens = document.querySelectorAll(".alert");
    mensagens.forEach(msg => {
        setTimeout(() => {
            const bsAlert = bootstrap.Alert.getOrCreateInstance(msg);
            bsAlert.close();
            // remove do DOM apÃ³s 0.5s para garantir fade
            setTimeout(() => msg.remove(), 500);
        }, 4000);
    });
});

</script>
